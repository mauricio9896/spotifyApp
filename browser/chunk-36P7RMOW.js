import{a as E,b as C,c as q,d as Q,e as G}from"./chunk-62MX65FW.js";import{a as k,b as T,c as j,d as W,e as D,f as $,g as I}from"./chunk-7Y6UA3V4.js";import{a as K}from"./chunk-R2W5LPG3.js";import{B as _,G as p,H as b,L as M,M as P,Ma as w,Ua as B,V as F,Va as N,W as s,Wa as L,X as d,Xa as U,Ya as H,ba as g,ca as u,fa as h,ja as o,ka as r,la as a,ma as O,na as v,oa as m,pa as z,t as y,ta as f,ua as A,va as S}from"./chunk-RRMFOBXZ.js";function rt(i,e){if(i&1&&(o(0,"div",0)(1,"div",1),a(2,"img",2),r(),o(3,"div",3)(4,"div",4)(5,"span"),f(6),r()(),o(7,"div",5)(8,"span"),f(9),r()()()()),i&2){let l=m();s(2),z("alt",l.song.name),u("src",l.song.album.images[0].url,F),s(4),A(l.song.name),s(3),S("",l.song.artists[0].name," ")}}var J=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-card-player"]],inputs:{song:"song"},decls:1,vars:1,consts:[[1,"content"],[1,"image"],[3,"src","alt"],[1,"info"],[1,"name"],[1,"artists"]],template:function(n,c){n&1&&g(0,rt,10,4,"div",0),n&2&&h(0,c.song?0:-1)},styles:[".content[_ngcontent-%COMP%]{display:flex;gap:calc(4px + var(--unidad));padding:var(--unidad);align-items:center;border-radius:var(--unidad);width:270px;cursor:default}.image[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:var(--unidad)}.info[_ngcontent-%COMP%]{flex:.8;display:flex;flex-direction:column;height:38px}.info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;height:18px;overflow:hidden}.info[_ngcontent-%COMP%]   .artists[_ngcontent-%COMP%]{color:var(--fourth-color);font-size:12px;height:15px;overflow:hidden}.save-song[_ngcontent-%COMP%]{flex:.1}.save-song[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:16px;color:var(--fourth-color);background-color:transparent;border:none;cursor:pointer}.duration[_ngcontent-%COMP%]{flex:.1}.duration[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--fourth-color);font-size:12px}"]});let i=e;return i})();function st(i,e){if(i&1&&a(0,"app-card-player",2),i&2){let l=m(2);u("song",l.track)}}function pt(i,e){i&1&&a(0,"div",13)}function dt(i,e){if(i&1){let l=O();o(0,"button",14),v("click",function(){M(l);let n=m(2);return P(n.pauseSong(n.track))}),a(1,"i",15),r()}}function mt(i,e){if(i&1){let l=O();o(0,"button",14),v("click",function(){M(l);let n=m(2);return P(n.playSong(n.track))}),a(1,"i",16),r()}}function ut(i,e){if(i&1){let l=O();o(0,"div",0)(1,"div",1),g(2,st,1,1,"app-card-player",2)(3,pt,1,0),r(),o(4,"div",3)(5,"button",4),a(6,"i",5),r(),g(7,dt,2,0,"button",6)(8,mt,2,0),o(9,"button",7),v("click",function(){M(l);let n=m();return P(n.nextTrack(n.track))}),a(10,"i",8),r()(),o(11,"div",9)(12,"div",10),a(13,"i",11)(14,"input",12),r()()()}if(i&2){let l=m();s(2),h(2,l.track?2:3),s(5),h(7,l.playingSong?7:8),s(7),u("formControl",l.volumen)}}var Y=(()=>{let e=class e{constructor(t,n,c){this.playerService=t,this.authService=n,this.spotifyService=c,this.volumen=new j(100),this.playingSong=!1}ngOnInit(){this.createWebPlayerSDK(),this.volumen.valueChanges.pipe(y(30)).subscribe(t=>this.playerService.setVolumen(t)),this.playerService.idTrack$.subscribe(t=>{t&&this.detailById("track",t)})}playSong(t){t&&(this.playingSong=!0,this.playerService.playSong(t.uri))}pauseSong(t){t&&(this.playingSong=!1,this.playerService.pauseSong())}nextTrack(t){t&&this.playerService.nextTrack(t.album.id)}detailById(t,n){!t||!n||this.spotifyService.detailById(t,n).subscribe(c=>{c&&(this.track=c,this.playSong(c))})}createWebPlayerSDK(){let t=document.createElement("script");t.src="https://sdk.scdn.co/spotify-player.js",t.type="text/javascript",document.head.appendChild(t),window.onSpotifyWebPlaybackSDKReady=this.connectPlayer.bind(this)}connectPlayer(){let t=this.authService.verifyToken(),n=new Spotify.Player({name:"Web_SDK_App",getOAuthToken:c=>{c(t)},volume:1});n.addListener("ready",({device_id:c})=>{console.log("Ready with Device ID",c)}),n.connect()}};e.\u0275fac=function(n){return new(n||e)(d(E),d(K),d(C))},e.\u0275cmp=p({type:e,selectors:[["app-player"]],decls:1,vars:1,consts:[[1,"content"],[1,"song"],[3,"song"],[1,"buttons"],["type","button",1,"btn","btn-back"],[1,"fa-solid","fa-backward-step"],["type","button",1,"btn-play"],["type","button",1,"btn","btn-next",3,"click"],[1,"fa-solid","fa-forward-step"],[1,"volumen"],[1,"slider"],[1,"fa-solid","fa-volume-high"],["type","range","id","slider","min","0","max","100","step","1",3,"formControl"],[1,"img-empty"],["type","button",1,"btn-play",3,"click"],[1,"fa-solid","fa-pause"],[1,"fa-solid","fa-play"]],template:function(n,c){n&1&&g(0,ut,15,3,"div",0),n&2&&h(0,0)},dependencies:[k,W,T,D,J],styles:[".content[_ngcontent-%COMP%]{background-color:var(--second-color);display:flex;justify-content:space-between;align-items:center;height:60px;overflow:hidden;border-radius:var(--unidad);padding:var(--unidad)}.song[_ngcontent-%COMP%]{width:30%;color:#f5f5f5;padding:5px}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:30%}.buttons[_ngcontent-%COMP%]   .btn-play[_ngcontent-%COMP%]{background-color:#fff;color:var(--primary-color);height:42px;width:42px;font-size:15px;border-radius:50%;margin:15px;border:none;cursor:pointer}.buttons[_ngcontent-%COMP%]   .btn-play[_ngcontent-%COMP%]:hover{transform:scale(1.04)}.btn[_ngcontent-%COMP%]{border-radius:50%;width:40px;height:40px;border:none;background-color:transparent;color:var(--fourth-color);font-size:20px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.04);background-color:var(--third-color)}.volumen[_ngcontent-%COMP%]{width:30%;display:flex;justify-content:end;color:#f5f5f5;padding:var(--unidad)}.slider[_ngcontent-%COMP%]{display:flex;align-items:center}.slider[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}input[type=range][_ngcontent-%COMP%]{-webkit-appearance:none;width:120px;height:4px;border-radius:5px;transition:opacity .2s;cursor:pointer;overflow:hidden}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;height:10px;margin-top:-1px;background:var(--third-color)}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:5px;height:5px;border-radius:50%;box-shadow:-80px 0 0 80px var(--fourth-color);background-color:var(--fourth-color);z-index:1}.img-empty[_ngcontent-%COMP%]{width:40px;height:40px;background-color:var(--third-color);border-radius:var(--unidad);opacity:.8}@media (max-width: 768px){.volumen[_ngcontent-%COMP%], .btn-next[_ngcontent-%COMP%], .btn-back[_ngcontent-%COMP%]{display:none}.buttons[_ngcontent-%COMP%]{justify-content:end}}"]});let i=e;return i})();var tt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-navbar"]],decls:16,vars:0,consts:[["routerLinkActive","active"],[1,"fas","fa-home"],["routerLink","search"],[1,"fas","fa-search"],["id","library","routerLink","library"],[1,"fa-solid","fa-music"]],template:function(n,c){n&1&&(o(0,"ul")(1,"li")(2,"a",0),a(3,"i",1),o(4,"span"),f(5,"Inicio"),r()()(),o(6,"li",2)(7,"a",0),a(8,"i",3),o(9,"span"),f(10,"Buscar"),r()()(),o(11,"li",4)(12,"a",0),a(13,"i",5),o(14,"span"),f(15,"Tu Biblioteca"),r()()()())},dependencies:[L,U],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0;padding:5px 0;cursor:pointer;border-radius:var(--unidad)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--third-color)}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--fourth-color);text-decoration:none;padding:5px}ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.active[_ngcontent-%COMP%]{color:#f5f5f5!important;font-weight:550}#library[_ngcontent-%COMP%]{display:none}@media (max-width: 1024px){ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:40px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:start;width:100px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:clamp(1.2rem,1.5vw,3rem);text-align:end}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;text-align:center;display:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:transparent}#library[_ngcontent-%COMP%]{display:block}}"]});let i=e;return i})();var et=(()=>{let e=class e{constructor(t,n,c,V){this.playerService=t,this.route=n,this.spotifyService=c,this.sharedDataService=V,this.paramSearch=new j("")}ngOnInit(){this.playerService.getDataUser().then(t=>{t&&(this.user=t)}).catch(t=>console.error(t)),this.startSearch()}ngOnDestroy(){let t=this.paramSearch.value;t?localStorage.setItem("paramSearch",t):localStorage.setItem("paramSearch","")}startSearch(){let t=this.getParamSearched();this.search(t),this.paramSearch.valueChanges.pipe(y(300)).subscribe(n=>{n?this.search(n):this.search(this.paramRandom())})}search(t){this.spotifyService.search(t,"track,artist,album").subscribe(n=>{n&&this.sharedDataService.updateListResults(n)},n=>{console.error(n)})}paramRandom(){let t="abcdefghijklmnopqrstuvwxyz",n=Math.floor(Math.random()*t.length);return t[n]}getParamSearched(){let t=localStorage.getItem("paramSearch");return t&&t.length>0?(this.paramSearch.setValue(t),t):this.paramRandom()}navigationBack(){window.history.back()}logout(){localStorage.clear(),this.route.navigate(["/"])}};e.\u0275fac=function(n){return new(n||e)(d(E),d(N),d(C),d(q))},e.\u0275cmp=p({type:e,selectors:[["app-header"]],decls:15,vars:2,consts:[[1,"header"],[1,"search"],["type","button","matTooltip","Atr\xE1s",1,"btns-add",3,"click"],[1,"fa-solid","fa-chevron-left"],[1,"search-input"],["type","text","placeholder","\xBFQu\xE9 quieres reproducir?",3,"formControl"],[1,"info"],[1,"user-name"],[1,"options"],["type","button","matTooltip","Notificaciones",1,"btns-add"],[1,"fa-solid","fa-bell"],["type","button","matTooltip","Salir",1,"btns-add",3,"click"],[1,"fa-solid","fa-right-to-bracket"]],template:function(n,c){n&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return c.navigationBack()}),a(3,"i",3),r(),o(4,"div",4),a(5,"input",5),r()(),o(6,"div",6)(7,"div",7)(8,"h3"),f(9),r()(),o(10,"div",8)(11,"button",9),a(12,"i",10),r(),o(13,"button",11),v("click",function(){return c.logout()}),a(14,"i",12),r()()()()),n&2&&(s(5),u("formControl",c.paramSearch),s(4),S("Bienvenido, ",c.user==null?null:c.user.display_name,""))},dependencies:[k,T,D,$],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:70px;padding:var(--unidad) 20px var(--unidad) 0px;margin:0}.search[_ngcontent-%COMP%]{flex:.5;display:flex;justify-content:start;align-items:center;position:relative;gap:calc(2 * var(--unidad))}.info[_ngcontent-%COMP%]{display:flex;flex:.5;justify-content:space-between;align-items:center;padding-left:20px}.user-name[_ngcontent-%COMP%]{color:var(--fourth-color);display:flex;flex:.8}.options[_ngcontent-%COMP%]{display:flex;flex:.2;justify-content:end;gap:var(--unidad)}.btns-add[_ngcontent-%COMP%]{height:40px;width:40px;min-height:40px;min-width:40px;border-radius:50%;border:none;cursor:pointer;background-color:var(--third-color);color:#f0f8ff}.btns-add[_ngcontent-%COMP%]:hover{outline:1px solid var(--third-color)}.search-input[_ngcontent-%COMP%]{display:flex;justify-content:start;align-items:center;min-width:300px;width:70%}.search-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px 40px 8px 30px;border:1px solid var(--second-color);border-radius:20px;background-color:var(--third-color);color:#f5f5f5;height:40px}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:1px solid var(--third-color)}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{outline:1px solid var(--third-color)}@media (max-width: 768px){.header[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:center;justify-content:center;gap:10px;height:auto;margin-bottom:var(--unidad)}.search[_ngcontent-%COMP%]{width:100%}.info[_ngcontent-%COMP%]{width:100%;padding:var(--unidad)}.search-input[_ngcontent-%COMP%]{min-width:260px}}"]});let i=e;return i})();function vt(i,e){if(i&1&&(o(0,"div",0),a(1,"app-list-songs",1),r()),i&2){let l=m();s(),u("tracks",l.savedTracks.items)("savedTracks",!0)}}var R=(()=>{let e=class e{constructor(t){this.spotifyService=t}ngOnInit(){this.getTracks(),this.spotifyService.refresh$.subscribe(t=>{t&&this.getTracks()})}getTracks(){this.spotifyService.getUserSavedTracks().subscribe(t=>{this.savedTracks=t})}};e.\u0275fac=function(n){return new(n||e)(d(C))},e.\u0275cmp=p({type:e,selectors:[["app-saved-user"]],decls:1,vars:1,consts:[[1,"content"],[3,"tracks","savedTracks"]],template:function(n,c){n&1&&g(0,vt,2,2,"div",0),n&2&&h(0,c.savedTracks?0:-1)},dependencies:[Q],styles:[".content[_ngcontent-%COMP%]{padding:var(--unidad);color:var(--fourth-color);font-weight:550;overflow-y:auto;height:calc(100vh - 205px)}.content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:15px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}@media (max-width: 768px){.content[_ngcontent-%COMP%]{height:calc(100vh - 290px)}}@media (min-width: 769px) and (max-width: 1024px){.content[_ngcontent-%COMP%]{height:calc(100vh - 225px)}}"]});let i=e;return i})();var nt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-home"]],decls:14,vars:0,consts:[[1,"content"],[1,"main"],[1,"content-left"],[1,"content-nav","card"],[1,"content-saved","card"],[1,"content-right","card"],[1,"player"],[1,"footer"]],template:function(n,c){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4,"app-navbar"),r(),o(5,"div",4),a(6,"app-saved-user"),r()(),o(7,"div",5),a(8,"app-header")(9,"router-outlet"),r()(),o(10,"div",6),a(11,"app-player"),r(),o(12,"div",7),a(13,"app-navbar"),r()())},dependencies:[B,Y,tt,et,R],styles:[".content[_ngcontent-%COMP%]{display:flex;height:100vh;flex-direction:column;overflow:hidden;gap:var(--unidad);padding:var(--unidad)}.main[_ngcontent-%COMP%]{flex:1;display:flex;gap:var(--unidad);overflow:hidden}.content-left[_ngcontent-%COMP%]{min-width:260px;max-width:300px;display:flex;flex-direction:column;gap:var(--unidad)}.content-saved[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.content-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:relative;overflow:hidden}.player[_ngcontent-%COMP%]{height:60px}.footer[_ngcontent-%COMP%]{height:40px;display:none}@media (max-width: 1024px){.main[_ngcontent-%COMP%]{flex-direction:column}.content-left[_ngcontent-%COMP%]{display:none}.content-right[_ngcontent-%COMP%]{width:100%}.footer[_ngcontent-%COMP%]{display:block}}"]});let i=e;return i})();var it=[{path:"",component:nt,children:[{path:"search",loadChildren:()=>import("./chunk-WFZUJQWB.js").then(i=>i.SearchModule)},{path:"library",component:R},{path:"",redirectTo:"search",pathMatch:"full"}]}];var ot=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=b({type:e}),e.\u0275inj=_({imports:[w,I]});let i=e;return i})();var Yt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=b({type:e}),e.\u0275inj=_({imports:[w,H.forChild(it),ot,G,I]});let i=e;return i})();export{Yt as HomeModule};
